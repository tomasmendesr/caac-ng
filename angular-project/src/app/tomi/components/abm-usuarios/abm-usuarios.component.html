<app-loading></app-loading>
<div class="box box-primary card card-block">
  <div class="box-header">
    <h3>ABM Usuarios</h3>
    <form class="form-inline separador-vertical">

      <div class="col-xs-10 col-sm-8 form-group has-feedback">
        <i class="fa fa-search" aria-hidden="true"></i>
        <input type="text" [(ngModel)]="filter.value" name="filterValue" (keyup)="keyUp.next($event)" class="form-control ml-3 w-75" placeholder="Buscar" id="txtSearch"/>
      </div>

      <div class="col-xs-2 col-sm-4">
        <h1 class="text-right">
          <button type="button" class="Button -sm -primary -raised -rounded" (click)="openModal()"><span class='fas fa-plus'></span> Nuevo</button>
        </h1>
      </div>
    </form>

  </div>

  <div class="box-body">
    <table id="table" class="table table-striped table-sm table-bordered table-hover" style="width:100%"></table>
  </div>
</div>


<!-- POPUP -->
<div class="modal fade bd-example-modal-lg" id="form" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel">Edición Usuario</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form class="form-horizontal">

          <div id="formAlert" (click)="hideFormAlert()" class="alert alert-danger formErrorMessages" role="alert">
            <ul>
              <li *ngFor="let message of formMessages">
                {{message}}
              </li>
            </ul>
          </div>

          <div *ngIf="usuarioEnEdicion">
            <div class="form-group required row">
              <label for="nombre" class="col-3 col-form-label control-label">Nombre</label>
              <div class="col-9">
                <input type="text" [(ngModel)]="usuarioEnEdicion.nombre" name="nombre" class="form-control" id="nombre" placeholder="Nombre">
              </div>
            </div>

            <div class="form-group required row">
              <label for="apellido" class="col-3 col-form-label control-label">Apellido</label>
              <div class="col-9">
                <input type="text" [(ngModel)]="usuarioEnEdicion.nombre" name="apellido" class="form-control" id="apellido" placeholder="Apellido">
              </div>
            </div>

            <div class="form-group required row">
              <label for="email" class="col-3 col-form-label control-label">Email</label>
              <div class="col-9">
                <input type="text" [(ngModel)]="usuarioEnEdicion.email" name="email" class="form-control" id="email" placeholder="Email">
              </div>
            </div>

            <div class="form-group required row">
              <label for="username" class="col-3 col-form-label control-label">Username</label>
              <div class="col-9">
                <input type="text" [(ngModel)]="usuarioEnEdicion.username" name="username" class="form-control" id="username" placeholder="Username">
              </div>
            </div>

            <div class="form-group row">
              <label for="fechaDeNacimiento" class="col-3 col-form-label control-label">Fecha de nacimiento</label>
              <div class="col-9">
                <input type="date" [ngModel]="usuarioEnEdicion.fechaDeNacimiento | date:'yyyy-MM-dd'" (ngModelChange)="usuarioEnEdicion.fechaDeNacimiento = $event" name="fechaDeNacimiento" class="form-control" id="fechaDeNacimiento" placeholder="Fecha de nacimiento">
              </div>
            </div>

          </div>
        </form>
      </div> <!-- /.modal-body -->

      <div class="modal-footer">
        <button class="Button -sm -default -outline -rounded" data-dismiss="modal">Cancelar</button>
        <button (click)="onClickAceptar($event)" class="Button -sm -primary -raised -rounded">Aceptar</button>
      </div>


    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



<!-- CONFIRM DIALOG -->
<div id ="confirmDialog" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel2">Confirmar</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>¿Seguro que desea realizar esta acción?</p>
      </div>

      <div class="modal-footer">
        <button class="Button -sm -default -outline -rounded" data-dismiss="modal">No</button>
        <button class="Button -sm -primary -raised -rounded" id="submit2" (click)="onClickConfirmarEliminacion($event)">Si</button>
      </div>

    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

